(function(e){"use strict";if("undefined"==typeof sigma)throw"sigma.renderers.snapshot: sigma not in scope.";var a=this.URL||this.webkitURL||this;function u(e,t){var r=function(e){return new Blob([e],{type:"image/svg+xml;charset=utf-8"})}(e),s={};s.anchor=document.createElement("a"),s.anchor.setAttribute("href",a.createObjectURL(r)),s.anchor.setAttribute("download",t);var i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.revokeObjectURL(r),s.anchor.dispatchEvent(i),delete s.anchor}var h="1000",g="graph.svg";sigma.prototype.toSVG=function(e){e=e||{};var t=this.settings("classPrefix"),r=e.size||e.width||h,s=e.size||e.height||h,i=document.createElement("div");i.setAttribute("width",r),i.setAttribute("height",s),i.setAttribute("style","position:absolute; top: 0px; left:0px; width: "+r+"px; height: "+s+"px;");var a=this.addCamera(),o=this.addRenderer({camera:a,container:i,type:"svg",forceLabels:!!e.labels});o.resize(r,s),this.refresh(),this.killRenderer(o),this.killCamera(a);var l=i.querySelector("svg");if(l.removeAttribute("style"),l.setAttribute("width",r+"px"),l.setAttribute("height",s+"px"),l.setAttribute("x","0px"),l.setAttribute("y","0px"),!e.labels){var n=l.querySelector('[id="'+t+'-group-labels"]');l.removeChild(n)}var c=l.querySelector('[id="'+t+'-group-hovers"]');l.removeChild(c),e.classes=!1!==e.classes,e.data&&!e.classes||function(e,t,r){var s,i,a,o,l,n={},c={},d=0,u="";r.classes&&((i=document.createElementNS("http://www.w3.org/2000/svg","style")).setAttribute("type","text/css"),e.insertBefore(i,e.firstChild));var h=e.querySelectorAll('[id="'+t+'-group-nodes"] > [class="'+t+'-node"]');for(o=0,l=h.length,a=!0;o<l;o++)s=h[o].getAttribute("fill"),r.data||h[o].removeAttribute("data-node-id"),r.classes&&(s in n||(n[s]=a?t+"-node":"c-"+d++,u+="."+n[s]+"{fill: "+s+"}"),n[s]!==t+"-node"&&h[o].setAttribute("class",h[o].getAttribute("class")+" "+n[s]),h[o].removeAttribute("fill")),a=!1;var g=e.querySelectorAll('[id="'+t+'-group-edges"] > [class="'+t+'-edge"]');for(o=0,l=g.length,a=!0;o<l;o++)s=g[o].getAttribute("stroke"),r.data||g[o].removeAttribute("data-edge-id"),r.classes&&(s in c||(c[s]=a?t+"-edge":"c-"+d++,u+="."+c[s]+"{stroke: "+s+"}"),c[s]!==t+"-edge"&&g[o].setAttribute("class",g[o].getAttribute("class")+" "+c[s]),g[o].removeAttribute("stroke")),a=!1;r.classes&&i.appendChild(document.createTextNode(u))}(l,t,e),i=null;var d='<?xml version="1.0" encoding="utf-8"?>\n';return d+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n',d+=l.outerHTML,e.download&&u(d,e.filename||g),d}}).call(this);