!function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(e,o,t,i,a){var r,l=e.color,s=a("prefix")||"",d=a("edgeHoverSizeRatio")*(e[s+"size"]||1),n=e.count||0,g=a("edgeColor"),c=a("defaultNodeColor"),u=a("defaultEdgeColor"),f=o[s+"size"],v=o[s+"x"],y=o[s+"y"],x=t[s+"x"],h=t[s+"y"];if(r=o.id===t.id?sigma.utils.getSelfLoopControlPoints(v,y,f,n):sigma.utils.getQuadraticControlPoint(v,y,x,h,n),!l)switch(g){case"source":l=o.color||c;break;case"target":l=t.color||c;break;default:l=u}l="edge"===a("edgeHoverColor")?e.hover_color||l:e.hover_color||a("defaultEdgeHoverColor")||l,i.strokeStyle=l,i.lineWidth=d,i.beginPath(),i.moveTo(v,y),o.id===t.id?i.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,x,h):i.quadraticCurveTo(r.x,r.y,x,h),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(e,o,t,i,a){var r,l,s,d,n,g,c,u=e.color,f=a("prefix")||"",v=a("edgeColor"),y=a("defaultNodeColor"),x=a("defaultEdgeColor"),h=a("edgeHoverSizeRatio")*(e[f+"size"]||1),C=e.count||0,m=t[f+"size"],b=o[f+"x"],p=o[f+"y"],P=t[f+"x"],S=t[f+"y"];if(r=o.id===t.id?sigma.utils.getSelfLoopControlPoints(b,p,m,C):sigma.utils.getQuadraticControlPoint(b,p,P,S,C),c=o.id===t.id?(l=Math.sqrt(Math.pow(P-r.x1,2)+Math.pow(S-r.y1,2)),s=2.5*h,d=r.x1+(P-r.x1)*(l-s-m)/l,n=r.y1+(S-r.y1)*(l-s-m)/l,g=(P-r.x1)*s/l,(S-r.y1)*s/l):(l=Math.sqrt(Math.pow(P-r.x,2)+Math.pow(S-r.y,2)),s=2.5*h,d=r.x+(P-r.x)*(l-s-m)/l,n=r.y+(S-r.y)*(l-s-m)/l,g=(P-r.x)*s/l,(S-r.y)*s/l),!u)switch(v){case"source":u=o.color||y;break;case"target":u=t.color||y;break;default:u=x}u="edge"===a("edgeHoverColor")?e.hover_color||u:e.hover_color||a("defaultEdgeHoverColor")||u,i.strokeStyle=u,i.lineWidth=h,i.beginPath(),i.moveTo(b,p),o.id===t.id?i.bezierCurveTo(r.x2,r.y2,r.x1,r.y1,d,n):i.quadraticCurveTo(r.x,r.y,d,n),i.stroke(),i.fillStyle=u,i.beginPath(),i.moveTo(d+g,n+c),i.lineTo(d+.6*c,n-.6*g),i.lineTo(d-.6*c,n+.6*g),i.lineTo(d+g,n+c),i.closePath(),i.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(e,o,t,i,a){var r,l=e.color,s=a("prefix")||"",d=e[s+"size"]||1,n=e.count||0,g=a("edgeColor"),c=a("defaultNodeColor"),u=a("defaultEdgeColor"),f=o[s+"size"],v=o[s+"x"],y=o[s+"y"],x=t[s+"x"],h=t[s+"y"];if(r=o.id===t.id?sigma.utils.getSelfLoopControlPoints(v,y,f,n):sigma.utils.getQuadraticControlPoint(v,y,x,h,n),!l)switch(g){case"source":l=o.color||c;break;case"target":l=t.color||c;break;default:l=u}i.strokeStyle=l,i.lineWidth=d,i.beginPath(),i.moveTo(v,y),o.id===t.id?i.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,x,h):i.quadraticCurveTo(r.x,r.y,x,h),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curvedArrow=function(e,o,t,i,a){var r,l,s,d,n,g,c=e.color,u=a("prefix")||"",f=a("edgeColor"),v=a("defaultNodeColor"),y=a("defaultEdgeColor"),x=e[u+"size"]||1,h=e.count||0,C=t[u+"size"],m=o[u+"x"],b=o[u+"y"],p=t[u+"x"],P=t[u+"y"],S=Math.max(2.5*x,a("minArrowSize"));if(r=o.id===t.id?sigma.utils.getSelfLoopControlPoints(m,b,C,h):sigma.utils.getQuadraticControlPoint(m,b,p,P,h),g=o.id===t.id?(l=Math.sqrt(Math.pow(p-r.x1,2)+Math.pow(P-r.y1,2)),s=r.x1+(p-r.x1)*(l-S-C)/l,d=r.y1+(P-r.y1)*(l-S-C)/l,n=(p-r.x1)*S/l,(P-r.y1)*S/l):(l=Math.sqrt(Math.pow(p-r.x,2)+Math.pow(P-r.y,2)),s=r.x+(p-r.x)*(l-S-C)/l,d=r.y+(P-r.y)*(l-S-C)/l,n=(p-r.x)*S/l,(P-r.y)*S/l),!c)switch(f){case"source":c=o.color||v;break;case"target":c=t.color||v;break;default:c=y}i.strokeStyle=c,i.lineWidth=x,i.beginPath(),i.moveTo(m,b),o.id===t.id?i.bezierCurveTo(r.x2,r.y2,r.x1,r.y1,s,d):i.quadraticCurveTo(r.x,r.y,s,d),i.stroke(),i.fillStyle=c,i.beginPath(),i.moveTo(s+n,d+g),i.lineTo(s+.6*g,d-.6*n),i.lineTo(s-.6*g,d+.6*n),i.lineTo(s+n,d+g),i.closePath(),i.fill()}}(),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(e,o,t,i,a){if("string"==typeof e.label){var r=a("prefix")||"",l=e[r+"size"]||1;if(!(l<a("edgeLabelThreshold"))){var s,d,n,g=o[r+"size"],c=e.count||0,u=o[r+"x"],f=o[r+"y"],v=t[r+"x"],y=t[r+"y"],x=v-u,h=y-f,C=u<v?1:-1,m={};n=o.id===t.id?(m=sigma.utils.getSelfLoopControlPoints(u,f,g,c),d=sigma.utils.getPointOnBezierCurve(.5,u,f,v,y,m.x1,m.y1,m.x2,m.y2),Math.atan2(1,1)):(m=sigma.utils.getQuadraticControlPoint(u,f,v,y,c),d=sigma.utils.getPointOnQuadraticCurve(.5,u,f,v,y,m.x,m.y),Math.atan2(h*C,x*C)),s="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*l*Math.pow(l,-1/a("edgeLabelSizePowRatio")),i.save(),e.active?(i.font=[a("activeFontStyle"),s+"px",a("activeFont")||a("font")].join(" "),i.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(i.font=[a("fontStyle"),s+"px",a("font")].join(" "),i.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(d.x,d.y),i.rotate(n),i.fillText(e.label,0,-l/2-3),i.restore()}}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils=sigma.utils||{},sigma.utils.getQuadraticControlPoint=function(e,o,t,i,a){return{x:(e+t)/2+(i-o)/(60/(15+(a=a||0))),y:(o+i)/2+(e-t)/(60/(15+a))}},sigma.utils.getSelfLoopControlPoints=function(e,o,t,i){return{x1:e-7*(t+(i=i||0)),y1:o,x2:e,y2:o+7*(t+i)}}}.call(this);